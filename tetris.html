<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Tetris</title>
</head>
<body>

<script type="text/javascript" src="tetris.js"></script>
<script>
    ROWS = 10;
    COLS = 10;
    ERASED_ROWS = 2;  // rows count erased with fill some column

    function printChoiceTable(option) {
        var optionName = option == 0 ? 'A' : 'B';
        var output = '<table class="choice">';
        output += '<tr><th colspan="4">Možnost ' + optionName + '</th></tr>';
        for (var i = 0; i < 4; i++) {
            output += '<tr>';
            for (var j = 0; j < 4; j++) {
                output += '<td class="field" id="' + formatChoiceId(i, j, option) + '"></td>';
            }
            output += '</tr>';
        }
        output += '<tr><th colspan="4"><button onclick="selectedOption('+option+')" id="option'+option+'">'
          + 'Vybrat</button></th></tr>';
        output += '<tr><th colspan="4">&nbsp;</th></tr>';
        output += '</table>';
        document.write(output);
    }

    function printMainTable() {
        var output = '<table>';
        for (var i = 0; i < ROWS; i++) {
            board.push([]);
            output += '<tr>';
            for (var j = 0; j < COLS; j++) {
                board[i].push(false);
                output += '<td class="field" id="' + formatId(i, j) + '" onclick="boardUI.clickField(this)"></td>';
            }
            output += '<td><button id="finishRow_'+i+'" class="hidden" onclick="finishRow('+i+')">Ok</button></td>'
            output += '</tr>';
        }
        output += '<tr>';
        for (var j = 0; j < COLS; j++) {
          output += '<th>' + String.fromCharCode(65 + j) + '</th>';
        }
        output += '</tr>';
        output += '</table>';
        document.write(output);
    }

    board = [];
    boardUI = new BoardUI();
    shapes = new Shapes();
    activeChoice = null;
    choices = [
      [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],
      [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],
    ];

    printChoiceTable(0);
    printChoiceTable(1);
    printMainTable();

    initGame();
</script>

<br><br>
<button id="confirmRound" onclick="confirmRound()" disabled="disabled">Potvrdit tah</button>
<br><br>
<button onclick="resetGame()">Dokončit kolo</button>

<script>

</script>

<style>
    table.choice {
        display: inline; margin: 20px;
    }
    .field.selected {
        background-color: greenyellow!important;
    }
    .field.active {
        background-color: red!important;
    }
    td.field {
        background-color: gray; width: 50px; height: 50px;
    }
    .hidden {
        display: none;
    }
    #confirmRound {
      width: 500px;
    }
    #option0, #option1 {
      width: 200px;
    }
</style>

</body>
</html>